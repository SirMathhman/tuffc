{
  "name": "tuffc",
  "version": "0.1.0",
  "private": true,
  "type": "module",
  "description": "Self-hosted Tuff compiler (native-first workflow; Stage0 fallback only)",
  "bin": {
    "tuff": "./scripts/tuffc-native.mjs",
    "tuffc": "./scripts/tuffc-native.mjs"
  },
  "scripts": {
    "build": "tsx ./scripts/build-selfhost-js.ts",
    "build:selfhost:js": "tsx ./scripts/build-selfhost-js.ts",
    "cpd:tuff": "tsx ./scripts/cpd-tuff.ts",
    "cpd:tuff:strict": "tsx ./scripts/cpd-tuff.ts --fail-on-duplicates",
    "cpd:tuff:35": "tsx ./scripts/cpd-tuff.ts --min-tokens 35",
    "cpd:tuff:json": "tsx ./scripts/cpd-tuff.ts --json",
    "test:cpd": "tsx ./src/test/js/cpd-tuff.ts",
    "test": "npm run test:core",
    "test:core": "tsx ./src/test/js/test-orchestrator.ts --suite=core",
    "test:native": "tsx ./src/test/js/test-orchestrator.ts --suite=native",
    "test:stress": "tsx ./src/test/js/test-orchestrator.ts --suite=stress",
    "test:parity": "tsx ./src/test/js/test-orchestrator.ts --suite=parity",
    "test:all": "tsx ./src/test/js/test-orchestrator.ts --suite=core,native,stress",
    "check": "npm run lint:eslint && npm run typecheck && npm run test",
    "lint": "npm run native:selfhost:run -- ./src/test/tuff/cases/factorial.tuff --selfhost --lint -o ./tests/out/lint/factorial.js",
    "lint:eslint": "eslint .",
    "lint:throws": "eslint src/main/js src/test/js",
    "lint:fix": "tsx ./src/test/js/lint-fix-all.ts",
    "typecheck": "tsc -p tsconfig.json",
    "test:update": "tsx ./src/test/js/test-orchestrator.ts --suite=core --update",
    "compile:sample": "npm run native:selfhost:run -- ./src/test/tuff/cases/factorial.tuff -o ./tests/out/factorial.js",
    "stage1:bootstrap": "tsx ./src/test/js/stage1-bootstrap.ts",
    "stage2:verify": "tsx ./src/test/js/phase3-stage2.ts",
    "stage4:verify": "tsx ./src/test/js/phase4-production.ts",
    "borrow:verify": "tsx ./src/test/js/borrow-checker.ts",
    "c:verify": "tsx ./src/test/js/c-backend-smoke.ts && tsx ./src/test/js/monomorphization-plan.ts",
    "c:native:verify": "tsx ./src/test/js/c-native-cli-e2e.ts",
    "c:verify:full": "npm run c:verify && npm run expect:actual:verify && npm run runtime:aliases && npm run c:native:verify && npm run c:selfhost:verify",
    "c:selfhost:verify": "tsx ./src/test/js/c-selfhost-progress.ts",
    "native:codegen": "tsx ./src/test/js/tuff-native-compiler.ts",
    "cli:verify": "tsx ./src/test/js/cli-hardening.ts",
    "selfhost:modules": "tsx ./src/test/js/selfhost-modules.ts",
    "modules:aliases": "tsx ./src/test/js/module-package-aliases.ts",
    "runtime:aliases": "tsx ./src/test/js/runtime-package-default-aliases.ts",
    "expect:actual:verify": "tsx ./src/test/js/expect-actual-c-aliases.ts",
    "selfhost:diagnostics": "tsx ./src/test/js/selfhost-diagnostics.ts",
    "selfhost:parity": "tsx ./src/test/js/selfhost-parity.ts",
    "native:selfhost:parity": "tsx ./src/test/js/c-bootstrap-parity.ts",
    "native:selfhost:run": "tsx ./scripts/run-native-selfhost.ts",
    "selfhost:stress": "tsx ./src/test/js/selfhost-stress.ts",
    "equiv:stages": "tsx ./src/test/js/stage-equivalence.ts",
    "semantics:exhaustive": "tsx ./src/test/js/spec-semantics-exhaustive.ts",
    "demo:regressions": "tsx ./src/test/js/demo-regressions.ts",
    "web:verify": "tsx ./src/test/js/web-compiler-api.ts",
    "build:web": "esbuild ./src/main/js/web-compiler.ts --bundle --platform=browser --format=iife --global-name=TuffCompiler --target=es2020 --minify --sourcemap --outfile=./tests/out/web/tuff-compiler.min.js",
    "build:web:esm": "esbuild ./src/main/js/web-compiler.ts --bundle --platform=browser --format=esm --target=es2020 --minify --sourcemap --outfile=./tests/out/web/tuff-compiler.esm.js",
    "build:binary": "npm run native:selfhost:parity && tsx ./scripts/build-native-binary.ts",
    "build:exe": "npm run native:selfhost:parity && tsx ./scripts/build-native-binary.ts --out=./dist/tuffc.exe"
  },
  "devDependencies": {
    "@types/node": "^25.2.3",
    "esbuild": "^0.25.12",
    "eslint": "^10.0.0",
    "tsx": "^4.21.0",
    "typescript": "^5.9.3",
    "typescript-eslint": "^8.56.0"
  }
}
